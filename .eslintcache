[{"E:\\lrn_react-trafficlights\\src\\index.js":"1","E:\\lrn_react-trafficlights\\src\\reportWebVitals.js":"2","E:\\lrn_react-trafficlights\\src\\App.js":"3","E:\\lrn_react-trafficlights\\src\\lightSwitch.js":"4","E:\\lrn_react-trafficlights\\src\\components\\light.jsx":"5","E:\\lrn_react-trafficlights\\src\\components\\Light.jsx":"6","E:\\lrn_react-trafficlights\\src\\Tools\\common.js":"7"},{"size":610,"mtime":1611993355559,"results":"8","hashOfConfig":"9"},{"size":362,"mtime":499162500000,"results":"10","hashOfConfig":"9"},{"size":1671,"mtime":1612098739091,"results":"11","hashOfConfig":"9"},{"size":493,"mtime":1611951296990,"results":"12","hashOfConfig":"9"},{"size":1013,"mtime":1612040973674,"results":"13","hashOfConfig":"9"},{"size":1013,"mtime":1612040973674,"results":"14","hashOfConfig":"9"},{"size":252,"mtime":1612040898274,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"1pk9rkk",{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"18"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"18"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34"},"E:\\lrn_react-trafficlights\\src\\index.js",[],["35","36"],"E:\\lrn_react-trafficlights\\src\\reportWebVitals.js",[],"E:\\lrn_react-trafficlights\\src\\App.js",["37"],"import './App.css';\nimport {useState, useEffect} from \"react\";\nimport Light from \"./components/Light\";\n\nimport {useHistory, useLocation} from \"react-router-dom\";\n\n\nfunction App() {\n    const history = useHistory();\n    const location = useLocation();\n\n    const trafficLights = [\n        {type: 'red', interval: 10000},\n        {type: 'yellow', interval: 3000},\n        {type: 'green', interval: 15000},\n    ];\n\n    const [forward, setForward] = useState(true);\n\n\n    const getNextLight = () => {\n        let direction = forward;\n        const activeType = location.pathname.slice(1);\n        const activeIndex = trafficLights.findIndex(elem => elem.type === activeType);\n        if (activeIndex === 0) direction = true;\n        if (activeIndex === trafficLights.length - 1) direction = false;\n        const interval = trafficLights[activeIndex].interval;\n        const nextType = trafficLights[activeIndex + (direction ? 1 : -1)].type;\n        setForward(direction);\n        setTimeout(() => {\n            history.replace(nextType);\n        }, interval);\n\n\n    }\n    //getNextLight();\n\n    useEffect(() => {\n        getNextLight();\n    }, [location.pathname]);\n\n\n    const lightsComponents = trafficLights.map((light, index) => {\n        return (\n            <Light\n                key={index}\n                type={light.type}\n                isActive={light.type === location.pathname.slice(1)}\n                interval={light.interval}\n                switchHandler={null}\n            />\n        )\n    })\n\n\n    return (\n        <main className=\"App\">\n            <div className={\"traffic-light\"}>{lightsComponents}</div>\n        </main>\n    );\n}\n\nexport default App;\n","E:\\lrn_react-trafficlights\\src\\lightSwitch.js",[],"E:\\lrn_react-trafficlights\\src\\components\\light.jsx",[],["38","39"],"E:\\lrn_react-trafficlights\\src\\components\\Light.jsx",["40","41"],"import '../App.css';\r\nimport {useState, useEffect} from \"react\";\r\nimport {getCookie} from \"../Tools/common\";\r\n\r\nfunction Light(props) {\r\n\r\n    const fullInterval = Math.round(props.interval / 1000);\r\n    const [counter, setCounter] = useState(fullInterval);\r\n    let classNames = ['light', `light--${props.type}`];\r\n    if (props.isActive && counter !== 2) {\r\n        classNames = [...classNames, 'light--active']\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (props.isActive) {\r\n            if (counter > 0) {\r\n                setTimeout(() => {\r\n                    setCounter(counter - 1)\r\n                    document.cookie = `time=${counter-1}`;\r\n                    console.log(document.cookie);\r\n                }, 1000);\r\n            } else {\r\n                setCounter(fullInterval);\r\n            }\r\n        }\r\n    }, [counter, props.isActive]);\r\n\r\n    return (\r\n        <div className={classNames.join(' ')}>\r\n            {props.isActive && counter}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Light;\r\n","E:\\lrn_react-trafficlights\\src\\Tools\\common.js",["42","43","44","45","46","47"],"export function getCookie(name) {\r\n    let matches = document.cookie.match(new RegExp(\r\n        \"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"\r\n    ));\r\n    return matches ? decodeURIComponent(matches[1]) : undefined;\r\n}",{"ruleId":"48","replacedBy":"49"},{"ruleId":"50","replacedBy":"51"},{"ruleId":"52","severity":1,"message":"53","line":40,"column":8,"nodeType":"54","endLine":40,"endColumn":27,"suggestions":"55"},{"ruleId":"48","replacedBy":"56"},{"ruleId":"50","replacedBy":"57"},{"ruleId":"58","severity":1,"message":"59","line":3,"column":9,"nodeType":"60","messageId":"61","endLine":3,"endColumn":18},{"ruleId":"52","severity":1,"message":"62","line":26,"column":8,"nodeType":"54","endLine":26,"endColumn":33,"suggestions":"63"},{"ruleId":"64","severity":1,"message":"65","line":3,"column":38,"nodeType":"66","messageId":"67","endLine":3,"endColumn":39,"suggestions":"68"},{"ruleId":"64","severity":1,"message":"69","line":3,"column":46,"nodeType":"66","messageId":"67","endLine":3,"endColumn":47,"suggestions":"70"},{"ruleId":"64","severity":1,"message":"71","line":3,"column":48,"nodeType":"66","messageId":"67","endLine":3,"endColumn":49,"suggestions":"72"},{"ruleId":"64","severity":1,"message":"73","line":3,"column":50,"nodeType":"66","messageId":"67","endLine":3,"endColumn":51,"suggestions":"74"},{"ruleId":"64","severity":1,"message":"75","line":3,"column":56,"nodeType":"66","messageId":"67","endLine":3,"endColumn":57,"suggestions":"76"},{"ruleId":"64","severity":1,"message":"77","line":3,"column":58,"nodeType":"66","messageId":"67","endLine":3,"endColumn":59,"suggestions":"78"},"no-native-reassign",["79"],"no-negated-in-lhs",["80"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getNextLight'. Either include it or remove the dependency array.","ArrayExpression",["81"],["79"],["80"],"no-unused-vars","'getCookie' is defined but never used.","Identifier","unusedVar","React Hook useEffect has a missing dependency: 'fullInterval'. Either include it or remove the dependency array.",["82"],"no-useless-escape","Unnecessary escape character: \\..","Literal","unnecessaryEscape",["83","84"],"Unnecessary escape character: \\(.",["85","86"],"Unnecessary escape character: \\).",["87","88"],"Unnecessary escape character: \\[.",["89","90"],"Unnecessary escape character: \\/.",["91","92"],"Unnecessary escape character: \\+.",["93","94"],"no-global-assign","no-unsafe-negation",{"desc":"95","fix":"96"},{"desc":"97","fix":"98"},{"messageId":"99","fix":"100","desc":"101"},{"messageId":"102","fix":"103","desc":"104"},{"messageId":"99","fix":"105","desc":"101"},{"messageId":"102","fix":"106","desc":"104"},{"messageId":"99","fix":"107","desc":"101"},{"messageId":"102","fix":"108","desc":"104"},{"messageId":"99","fix":"109","desc":"101"},{"messageId":"102","fix":"110","desc":"104"},{"messageId":"99","fix":"111","desc":"101"},{"messageId":"102","fix":"112","desc":"104"},{"messageId":"99","fix":"113","desc":"101"},{"messageId":"102","fix":"114","desc":"104"},"Update the dependencies array to be: [getNextLight, location.pathname]",{"range":"115","text":"116"},"Update the dependencies array to be: [counter, fullInterval, props.isActive]",{"range":"117","text":"118"},"removeEscape",{"range":"119","text":"120"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"121","text":"122"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"123","text":"120"},{"range":"124","text":"122"},{"range":"125","text":"120"},{"range":"126","text":"122"},{"range":"127","text":"120"},{"range":"128","text":"122"},{"range":"129","text":"120"},{"range":"130","text":"122"},{"range":"131","text":"120"},{"range":"132","text":"122"},[1140,1159],"[getNextLight, location.pathname]",[827,852],"[counter, fullInterval, props.isActive]",[125,126],"",[125,125],"\\",[133,134],[133,133],[135,136],[135,135],[137,138],[137,137],[143,144],[143,143],[145,146],[145,145]]